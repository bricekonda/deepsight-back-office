<loader ng-if="vm.pageloadingboolean"></loader>

<div class="category-block">
    <div class="category-title" ng-click="vm.createtag()">My tags</div>
    <div class="category-subtitle"> Consulte ici les tags des clients Deepsight</div>

    <div class="tags-wrapper">

        <div class="chose-audience-name">
            <div class="chose-campaign-name-title">Nom de l'utilisateur</div>
            <div class="chose-btn-wrapper-campaign" id="chosetheuser">
                <div class="chose-btn-campaign" ng-click="vm.showfilteruser()">
                    <div class="chose-btn-content-campaign">
                        <div ng-class=" vm.choiceuser === 'Liste des utilisateurs disponibles pour lesquels vous pouvez créer un tag' ? 'choice-to-chose-no-campaign' : 'choice-to-chose-campaign'">
                            {{vm.choiceuser}}
                        </div>
                        <div class="choice-show-noshow-campaign" ng-class="vm.filterclassuser"></div>
                    </div>
                </div>
                <div class="chose-list-campaign" ng-class="vm.filtershownuser">
                    <div class="chose-spacer-campaign"></div>
                    <div class="choice-campaign" ng-repeat="choice in vm.usertochoselist" ng-click="vm.selectfilteruser($index); vm.loadallcustomaudienceByuserId()">
                        <div class="choice-content-campaign" ng-class="{activefilterclass : vm.activefilter === filter.name}">{{choice}}</div>
                    </div>
                </div>
                <div class="chose-list-bottom-campaign" ng-class="vm.filterbottomuser"></div>
            </div>
        </div>

        <div class="tag-block" ng-repeat="tag in vm.tagstodisplay">
            <div class="information-copy-title-tag">
                {{tag.title}}
            </div>
            <div class="information-copy-block-tag">
                <div class="information-copy-block-title-tag">
                    Descriptif
                </div>
                <div class="information-copy-block-content-tag">
                    {{tag.description}}
                </div>
            </div>
            <div class="information-copy-block-tag">
                <div class="information-copy-block-title-tag">
                    URL du dépôt de tag
                </div>
                <div class="information-copy-block-content-tag">
                    {{tag.url}}
                </div>
            </div>
            <div class="information-copy-block-tag">
                <div class="information-copy-block-title-tag">
                    Variable à récupérer
                </div>
                <div class="information-copy-block-content-tag">
                    <p ng-repeat="variable in tag.variables">{{variable.variable}}</p>
                </div>
            </div>

            <div class="information-copy-block-tag">
                <div class="information-copy-block-title-tag">
                </div>
            </div>
            <div class="script-wrapper">
                <div class="script-copy">
                    &lt;script type="text/javascript"&gt;
                    <br> &nbsp&nbsp&nbsp&nbsp(function() {
                    <br> &nbsp&nbsp&nbsp&nbspconsole.log("le tag est bien actif!")
                    <br> &nbsp&nbsp&nbsp&nbspvar s = document.createElement("script"),
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp s0 = document.getElementsByTagName("script")[0];
                    <br> &nbsp&nbsp&nbsp&nbsps.type = "text/javascript";
                    <br> &nbsp&nbsp&nbsp&nbsps.async = true;
                    <br> &nbsp&nbsp&nbsp&nbspvar dsP = {
                    <div ng-repeat="variable in tag.variables">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{variable.variable}}: "",</div>
                    &nbsp&nbsp&nbsp&nbsp};
                    <br> &nbsp&nbsp&nbsp&nbsp&nbspvar urlParam = []
                    <br> &nbsp&nbsp&nbsp&nbsp&nbspfor (var i in dsP) {
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspurlParam.push(encodeURI(i) + "=" + encodeURI(dsP[i]));
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsp}
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsps.src = 'https://tr.deepsight.io/adv?' + urlParam.join("&");
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsps0.parentNode.insertBefore(s, s0);
                    <br> &nbsp&nbsp&nbsp&nbsp&nbsp})();
                    <br> &lt;/script&gt;
                    <br>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- End of more information -->

<ui-view></ui-view>
